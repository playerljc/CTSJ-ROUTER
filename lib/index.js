"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),__exportStar=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||__createBinding(t,e,r)},__rest=this&&this.__rest||function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]]);return r},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.staticConfig=exports.memoryConfig=exports.hashConfig=exports.browserConfig=void 0;var react_1=__importDefault(require("react")),react_router_dom_1=require("react-router-dom");function sortRouters(e){var t,r;e&&e.length&&(-1!==(t=e.findIndex(function(e){return"/"===e.path}))&&(r=e[t],e[t]=e[e.length-1],e[e.length-1]=r),e.forEach(function(e){e.routes&&e.routes.length&&sortRouters(e.routes)}))}function RouteHOC(e){var t=e.route,r=__rest(e,["route"]),o=t.component;return react_1.default.createElement(o,__assign({},r),renderSwitch(t.routes,t))}function RouteWithSubRoutes(t){var e=t.path,r=t.redirect,o=t.parentRoute,n=t.routes,a=void 0===n?[]:n,u=t.component;return r?react_1.default.createElement(react_router_dom_1.Redirect,{from:o?o.path:"/",to:r}):a&&a.length?react_1.default.createElement(react_router_dom_1.Route,{path:e,exact:!(!o||"/"!==e),render:function(e){return react_1.default.createElement(RouteHOC,__assign({},e,{route:t}))}}):e?react_1.default.createElement(react_router_dom_1.Route,{path:e,exact:!0,component:u}):react_1.default.createElement(react_router_dom_1.Route,{component:u})}function renderSwitch(e,r){return void 0===e&&(e=[]),react_1.default.createElement(react_router_dom_1.Switch,null,e.map(function(e,t){return react_1.default.createElement(RouteWithSubRoutes,__assign({key:t},e,{parentRoute:r}))}))}function browserConfig(e,t){return sortRouters(e),react_1.default.createElement(react_router_dom_1.BrowserRouter,{ref:function(e){t&&t(e)}},renderSwitch(e))}function hashConfig(e,t){return sortRouters(e),react_1.default.createElement(react_router_dom_1.HashRouter,{ref:function(e){t&&t(e)}},renderSwitch(e))}function memoryConfig(e,t){return sortRouters(e),react_1.default.createElement(react_router_dom_1.MemoryRouter,{ref:function(e){t&&t(e)}},renderSwitch(e))}function staticConfig(e,t,r){return void 0===t&&(t={}),sortRouters(e),react_1.default.createElement(react_router_dom_1.StaticRouter,__assign({},t||{},{ref:function(e){r&&r(e)}}),renderSwitch(e))}exports.browserConfig=browserConfig,exports.hashConfig=hashConfig,exports.memoryConfig=memoryConfig,exports.staticConfig=staticConfig,__exportStar(require("history"),exports),__exportStar(require("react-router-dom"),exports);
//# sourceMappingURL=index.js.map
