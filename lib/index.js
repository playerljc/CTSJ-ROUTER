"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){e[o=void 0===o?r:o]=t[r]}),__exportStar=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||__createBinding(t,e,r)},__rest=this&&this.__rest||function(e,t){var r={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},react_1=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.staticConfig=exports.memoryConfig=exports.hashConfig=exports.browserConfig=void 0,__importDefault(require("react"))),react_router_dom_1=require("react-router-dom");function sortRouters(e){var t,r;e&&e.length&&(-1!==(t=e.findIndex(function(e){return"/"===e.path}))&&(r=e[t],e[t]=e[e.length-1],e[e.length-1]=r),e.forEach(function(e){e.routes&&e.routes.length&&sortRouters(e.routes)}))}function RouteHOC(e){var t=e.route,e=__rest(e,["route"]),r=t.component;return react_1.default.createElement(r,__assign({},e),renderSwitch(t.routes,t))}function RouteWithSubRoutes(t){var e=t.path,r=t.redirect,o=t.parentRoute,n=t.routes,n=void 0===n?[]:n,a=t.component;return r?react_1.default.createElement(react_router_dom_1.Redirect,{from:o?o.path:"/",to:r}):n&&n.length?react_1.default.createElement(react_router_dom_1.Route,{path:e,exact:!(!o||"/"!==e),render:function(e){return react_1.default.createElement(RouteHOC,__assign({},e,{route:t}))}}):e?react_1.default.createElement(react_router_dom_1.Route,{path:e,exact:!0,component:a}):react_1.default.createElement(react_router_dom_1.Route,{component:a})}function renderSwitch(e,r){return react_1.default.createElement(react_router_dom_1.Switch,null,(e=void 0===e?[]:e).map(function(e,t){return react_1.default.createElement(RouteWithSubRoutes,__assign({},e,{key:""+t,parentRoute:r}))}))}function browserConfig(e,t,r){return sortRouters(e),react_1.default.createElement(react_router_dom_1.BrowserRouter,__assign({},r||{},{ref:function(e){t&&t(e)}}),renderSwitch(e))}function hashConfig(e,t,r){return sortRouters(e),react_1.default.createElement(react_router_dom_1.HashRouter,__assign({},r||{},{ref:function(e){t&&t(e)}}),renderSwitch(e))}function memoryConfig(e,t,r){return sortRouters(e),react_1.default.createElement(react_router_dom_1.MemoryRouter,__assign({},r||{},{ref:function(e){t&&t(e)}}),renderSwitch(e))}function staticConfig(e,t,r){return void 0===t&&(t={}),sortRouters(e),react_1.default.createElement(react_router_dom_1.StaticRouter,__assign({},t||{},{ref:function(e){r&&r(e)}}),renderSwitch(e))}exports.browserConfig=browserConfig,exports.hashConfig=hashConfig,exports.memoryConfig=memoryConfig,exports.staticConfig=staticConfig,__exportStar(require("history"),exports),__exportStar(require("react-router-dom"),exports);
//# sourceMappingURL=index.js.map
